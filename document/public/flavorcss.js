!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a((e=e||self).flavorcss={})}(this,function(e){"use strict";function o(){if(m)return m;var e=navigator.userAgent.toLocaleLowerCase(),a=/(?:android)/.test(e),t=/(?:firefox)/.test(e),r=/(?:chrome|crios)/.test(e),n=/(safari)/.test(e),i=/(?:ipad|playbook)/.test(e)||a&&!/(?:mobile)/.test(e)||t&&/(?:tablet)/.test(e),o=/(?:iphone)/.test(e)&&!i,c=!o&&!a,d=!c,s=d&&/(micromessenger|wechat)/.test(e);return m={android:a,firefox:t,chrome:r,tablet:i,ios:o,wechat:s,pc:c,phone:d,safari:n}}var m,c={},b={},d={hover:":hover",focus:":focus",active:":active",first:":first-child",last:":last-child",blank:":blank",checked:":checked",current:":current",disabled:":disabled","focus-within":":focus-within","focus-visible":":focus-visible","in-range":":in-range",visited:":visited",even:":nth-child(even)",odd:":nth-child(odd)","placeholder-shown":":placeholder-shown",after:"::after",before:"::before",placeholder:"::-webkit-input-placeholder"},s={dark:"@media (prefers-color-scheme: dark)",xxs:"@media screen and (min-width: 375px)",xs:"@media screen and (min-width: 480px)",sm:"@media screen and (min-width: 640px)",md:"@media screen and (min-width: 768px)",lg:"@media screen and (min-width: 1024px)",xl:"@media screen and (min-width: 1280px)",xxl:"@media screen and (min-width: 1536px)","xxs-max":"@media screen and (max-width: 375px)","xs-max":"@media screen and (max-width: 480px)","sm-max":"@media screen and (max-width: 640px)","md-max":"@media screen and (max-width: 768px)","lg-max":"@media screen and (max-width: 1024px)","xl-max":"@media screen and (max-width: 1280px)","xxl-max":"@media screen and (max-width: 1536px)"},u={};function y(e,a){var t=e+"_$$_"+a,r=u[t];if(r)return r;var n={comp:void 0,compName:"",pesudo:"",pesudoName:"",media:"",mediaName:"",name:"",value:"",query:""};if(!a)return u[t]=n;var i=c[e];return a.split(":").forEach(function(e,a){if(0===a){if(s[e])return n.media=s[e],void(n.mediaName=e);if(void 0!==o()[e])return n.media="@media screen and (min-width: "+(o()[e]?"0px":"9999px")+")",void(n.mediaName=e)}a<2&&d[e]?(n.pesudo=d[e],n.pesudoName=e):!n.name&&i&&i[e]?(n.comp=i[e],n.compName=e):n.comp||n.name?n.value?n.query||(n.query=e):(n.comp&&(e=e.replaceAll(/\((.*?)\)/g,function(e){return e.replace(/\,/g,"^^^")})),n.value=e):n.name=e}),u[t]=n}function f(e){var r=[],a=e.match(/\[(.*?)\]/g),n={};a&&a.forEach(function(e){if(e){var a=e.replace(/(\[|\])/g,"");n[a]=!0}});var i=e.split(/\[(.*?)\]/g);return i.forEach(function(e,a){if(e=e.trim()){var t=i[a+1];0!==a||n[e]||r.push({cssItem:e,group:""}),n[e]&&t&&!n[t]&&r.push({cssItem:t.trim(),group:e})}}),r}var v=function(e,s,m,u,l,p){void 0===s&&(s=""),void 0===m&&(m=""),void 0===u&&(u=""),void 0===l&&(l=""),void 0===p&&(p="");var a="^parser_"+e+"_"+s+"_"+m+"_"+u+"_"+l;return b[a]||(b[a]=!0,f(e).forEach(function(e){var a=e.cssItem,d=e.group;a.split(" ").filter(Boolean).forEach(function(e){var a=y(d,e),t=a.comp,r=a.value,n=a.media,i=a.mediaName,o=a.pesudo;if(t){var c=t(r.split(","));v(c,e,n,i,o,d)}else!function(e){var a=e.css,t=e.name,r=void 0===t?"":t,n=e.media,i=void 0===n?"":n,o=e.mediaName,c=void 0===o?"":o,d=e.pesudo,s=void 0===d?"":d,m=e.group,u=void 0===m?"":m;if(a){var l="^sty_"+a+"_"+r+"_"+i+"_"+s+"_"+u;if(!b[l]){b[l]=!0;var p=y(u,a),f=p.value;if(f){p.media&&(i=p.media),p.mediaName&&(c=p.mediaName),p.pesudo&&(s=p.pesudo);var v=f.split("~");1<v.length&&(f=" "+v.map(function(e){return'"'+e+'"'}).join(" "),f+=";"),f=(f=(f=(f=(f=f.replaceAll(/calc\((.*?)\)/g,function(e){return e=e.replaceAll(/(-|\+|\*|\/)/g,function(e){return" "+e+" "})})).replace(/\|/g," ")).replaceAll(/var\((.*?)\)/g,function(e){return e.replace(/(var\(|\))/g,"")})).replaceAll(/--([a-zA-Z0-9_-]*)/g,function(e){return"var("+e+")"})).replace(/\^\^\^/g,",");var h=(r||a).replaceAll(/(\:|#|!|,|\.|>|<|@|~|%|\||\$|\{|\}|\[|\]|\(|\)|\+|\*|\/)/g,function(e){return"\\"+e}),x=u?".\\["+u+"\\]":"",g=document.createElement("style");if(g.textContent=i?i+" {."+h+x+s+" "+p.query+"{"+p.name+":"+f+"}}":"."+h+x+s+" "+p.query+"{"+p.name+":"+f+"}",document.head.append(g),c){var w=document.createElement("style");w.textContent=".media-"+c+" ."+h+x+s+" "+p.query+"{"+p.name+":"+f+"}",document.head.append(w)}}}}}({css:e,name:s,media:m,mediaName:u,pesudo:l,group:p})})})),e},t={},i=function(i,e,o){var a="^group_"+i+"_"+e+"_"+o;t[a]||(t[a]=!0,c[i]||(c[i]={}),c[i][e]=function(e){var t=o;e.forEach(function(e,a){t=t.replace(new RegExp("(\\$"+(a+1)+")","g"),e)});var a=e[e.length],r=function(e){-1<t.indexOf("$"+e)&&(t=t.replace(new RegExp("(\\$"+(e+1)+")","g"),a),r(e+1))};r(o.length+1);var n="";return f(t).forEach(function(e){var a=e.cssItem,t=e.group;a.split(" ").forEach(function(e){var a=y("",e);(a.comp||""===t||(a=y(t,e)).comp||t===i||(a=y(i,e)),a.comp)?a.comp(a.value.split(",")).split(" ").forEach(function(e){n+=[a.mediaName,a.pesudoName,e,a.query].filter(Boolean).join(":")+" "}):n+=e+" "})}),n})};function n(e){var n=e.getAttribute("flavor")||"",a="";if("TEMPLATE"===e.tagName){var t=e.content.cloneNode(!0);t&&(a=t.textContent)}else a=e.textContent;a&&(a=a.replace("\n","")).trim().split(";").forEach(function(e){var a=e.split(":"),t=a[0],r=a.slice(1);(t=t.trim())&&i(n,t,r.join(":").trim())})}function l(e){e&&"string"==typeof e.className&&v(e.className)}var a=!1,r=function(){"undefined"!=typeof window&&"undefined"!=typeof document&&window.location&&(a||(window.MutationObserver?document.body?(document.querySelectorAll("[flavor]").forEach(n),document.body.querySelectorAll("[class]").forEach(l),new MutationObserver(function(e){for(var a=0,t=e;a<t.length;a++){var r=t[a];"childList"===r.type?(n(r.target),l(r.target),r.target.querySelectorAll("[flavor]").forEach(n),r.target.querySelectorAll("[class]").forEach(l)):"attributes"===r.type&&l(r.target)}}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),a=!0):requestAnimationFrame(r):console.error("[flavorcss] Your Browser not supported MutationObserver")))};r(),e.classGroup=i,e.device=o,e.groupList={},e.mediaList=s,e.observeClass=r,e.parser=v,e.pesudoList=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
