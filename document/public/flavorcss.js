!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).flavorcss={})}(this,function(e){"use strict";function o(){if(l)return l;var e=navigator.userAgent.toLocaleLowerCase(),r=/(?:android)/.test(e),t=/(?:firefox)/.test(e),a=/(?:chrome|crios)/.test(e),i=/(safari)/.test(e),n=/(?:ipad|playbook)/.test(e)||r&&!/(?:mobile)/.test(e)||t&&/(?:tablet)/.test(e),o=/(?:iphone)/.test(e)&&!n,c=!o&&!r,s=!c,d=s&&/(micromessenger|wechat)/.test(e);return l={android:r,firefox:t,chrome:a,tablet:n,ios:o,wechat:d,pc:c,phone:s,safari:i}}var l,c={},y={},s={hover:":hover",focus:":focus",active:":active",first:":first-child",last:":last-child",blank:":blank",checked:":checked",current:":current",disabled:":disabled","focus-within":":focus-within","focus-visible":":focus-visible","in-range":":in-range",visited:":visited",even:":nth-child(even)",odd:":nth-child(odd)","placeholder-shown":":placeholder-shown",after:"::after",before:"::before",placeholder:"::-webkit-input-placeholder",scrollbar:"::-webkit-scrollbar","scrollbar-thumb":"::-webkit-scrollbar-thumb","scrollbar-track":"::-webkit-scrollbar-track","scrollbar-button":"::-webkit-scrollbar-button","scrollbar-corner":"::-webkit-scrollbar-corner"},d={dark:"@media (prefers-color-scheme: dark)",xs:"@media screen and (min-width: 480px)",sm:"@media screen and (min-width: 640px)",md:"@media screen and (min-width: 768px)",lg:"@media screen and (min-width: 1024px)",xl:"@media screen and (min-width: 1280px)",xxl:"@media screen and (min-width: 1536px)","in-xs":"@media screen (max-width:479px) and (min-width: 0px)","in-sm":"@media screen (max-width:767px) and (min-width: 479px)","in-md":"@media screen (max-width:1023px) and (min-width: 767px)","in-lg":"@media screen (max-width:1279px) and (min-width: 1023px)","in-xl":"@media screen (max-width:1535px) and (min-width: 1279px)","in-xxl":"@media screen (max-width:9999px) and (min-width: 1535px)"},u={};function E(e,r){var t=e+"_$$_"+r,a=u[t];if(a)return a;var i={comp:void 0,compName:"",pesudo:"",pesudoName:"",media:"",mediaName:"",name:"",value:"",query:""};if(!r)return u[t]=i;var n=c[e];return r.split(":").forEach(function(e,r){if(0===r){if(d[e])return i.media=d[e],void(i.mediaName=e);if(void 0!==o()[e])return i.media="@media screen and (min-width: "+(o()[e]?"0px":"9999px")+")",void(i.mediaName=e)}r<2&&s[e]?(i.pesudo=s[e],i.pesudoName=e):!i.name&&n&&n[e]?(i.comp=n[e],i.compName=e):i.comp||i.name?i.value?i.query||(i.query=e):(i.comp&&(e=e.replace(/\((.*?)\)/g,function(e){return e.replace(/\,/g,"^^^")})),i.value=e):i.name=e}),u[t]=i}function f(e){var a=[],r=(e=e.replace(/\n/g," ")).match(/\[(.*?)\]/g),i={};r&&r.forEach(function(e){if(e){var r=e.replace(/(\[|\])/g,"");i[r]=!0}});var n=e.split(/\[(.*?)\]/g);return n.forEach(function(e,r){if(e=e.trim()){var t=n[r+1];0!==r||i[e]||a.push({cssItem:e,group:""}),i[e]&&t&&!i[t]&&a.push({cssItem:t.trim(),group:e})}}),a}var v=function(e,d,l,u,m,p){void 0===d&&(d=""),void 0===l&&(l=""),void 0===u&&(u=""),void 0===m&&(m=""),void 0===p&&(p="");var r="^parser_"+e+"_"+d+"_"+l+"_"+u+"_"+m;return y[r]||(y[r]=!0,f(e).forEach(function(e){var r=e.cssItem,s=e.group;r.split(" ").filter(Boolean).forEach(function(e){var r=E(s,e),t=r.comp,a=r.value,i=r.media,n=r.mediaName,o=r.pesudo;if(t){var c=t(a.split(","));v(c,e,i,n,o,s)}else!function(e){var r=e.css,t=e.name,a=void 0===t?"":t,i=e.media,n=void 0===i?"":i,o=e.mediaName,c=void 0===o?"":o,s=e.pesudo,d=void 0===s?"":s,l=e.group,u=void 0===l?"":l;if(r){var m="^sty_"+r+"_"+a+"_"+n+"_"+d+"_"+u;if(!y[m]){y[m]=!0;var p=E(u,r),f=p.value;if(f){p.media&&(n=p.media),p.mediaName&&(c=p.mediaName),p.pesudo&&(d=p.pesudo);var v=f.split("~");1<v.length&&(f=" "+v.map(function(e){return'"'+e+'"'}).join(" "),f+=";"),f=(f=(f=(f=(f=f.replace(/calc\((.*?)\)/g,function(e){return e=e.replace(/(-|\+|\*|\/)/g,function(e){return" "+e+" "})})).replace(/\|/g," ")).replace(/var\((.*?)\)/g,function(e){return e.replace(/(var\(|\))/g,"")})).replace(/--([a-zA-Z0-9_-]*)/g,function(e){return"var("+e+")"})).replace(/\^\^\^/g,",");var h=(a||r).replace(/(\:|#|\*|!|,|\.|>|<|@|~|%|\||\$|\{|\}|\[|\]|\(|\)|\+|\*|\/)/g,function(e){return"\\"+e}),b=u?".\\["+u+"\\]":"",g=document.createElement("style"),x=p.name.replace("*","--");if(g.textContent=n?n+" {."+h+b+d+" "+p.query+"{"+x+":"+f+"}}":"."+h+b+d+" "+p.query+"{"+x+":"+f+"}",document.head.append(g),c){var w=document.createElement("style");w.textContent=".media-"+c+" ."+h+b+d+" "+p.query+"{"+x+":"+f+"}",document.head.append(w)}}}}}({css:e,name:d,media:l,mediaName:u,pesudo:m,group:p})})})),e},r={},t={},n=function(n,e,o){var r="^group_"+n+"_"+e+"_"+o;t[r]||(t[r]=!0,c[n]||(c[n]={}),c[n][e]=function(e){var t=o;e.forEach(function(e,r){t=t.replace(new RegExp("(\\$"+(r+1)+")","g"),e)});var r=e[e.length],a=function(e){-1<t.indexOf("$"+e)&&(t=t.replace(new RegExp("(\\$"+(e+1)+")","g"),r),a(e+1))};a(o.length+1);var i="";return f(t).forEach(function(e){var r=e.cssItem,t=e.group;r.split(" ").forEach(function(e){var r=E("",e);(r.comp||""===t||(r=E(t,e)).comp||t===n||(r=E(n,e)),r.comp)?r.comp(r.value.split(",")).split(" ").forEach(function(e){i+=[r.mediaName,r.pesudoName,e,r.query].filter(Boolean).join(":")+" "}):i+=e+" "})}),i})};function i(e){var i=e.getAttribute("flavor")||"",r="";if("TEMPLATE"===e.tagName){var t=e.content.cloneNode(!0);t&&(r=t.textContent)}else r=e.textContent;r&&(r=r.replace("\n","")).trim().split(";").forEach(function(e){var r=e.split(":"),t=r[0],a=r.slice(1);(t=t.trim())&&n(i,t,a.join(":").trim())})}function m(e){e&&e.className&&"string"==typeof e.className&&v(e.className)}var a=!1,p=function(){"undefined"!=typeof window&&"undefined"!=typeof document&&window.location&&(a||(window.MutationObserver?document.body?(document.querySelectorAll("[flavor]").forEach(i),document.body.querySelectorAll("[class]").forEach(m),new MutationObserver(function(e){for(var r=0,t=e;r<t.length;r++){var a=t[r];"childList"===a.type?(i(a.target),m(a.target),a.target.querySelectorAll("[flavor]").forEach(i),a.target.querySelectorAll("[class]").forEach(m)):"attributes"===a.type&&m(a.target)}}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),a=!0):requestAnimationFrame(p):console.error("[flavorcss] Your Browser not supported MutationObserver")))};p(),window.flavorcss={device:o,parser:v,observeClass:p,classGroup:n,groupList:r,mediaList:d,pesudoList:s},e.classGroup=n,e.device=o,e.groupList=r,e.mediaList=d,e.observeClass=p,e.parser=v,e.pesudoList=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
