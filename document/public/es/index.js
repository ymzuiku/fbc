var d={compMap:{"":{}},classNameCache:{}};var w,g=()=>{if(w)return w;let e=navigator.userAgent.toLocaleLowerCase(),c=/(?:android)/.test(e),o=/(?:firefox)/.test(e),s=/(?:chrome|crios)/.test(e),t=/(safari)/.test(e),n=/(?:ipad|playbook)/.test(e)||c&&!/(?:mobile)/.test(e)||o&&/(?:tablet)/.test(e),u=/(?:iphone)/.test(e)&&!n,a=!u&&!c,r=!a,i=r&&/(micromessenger|wechat)/.test(e);return w={android:c,firefox:o,chrome:s,tablet:n,ios:u,wechat:i,pc:a,phone:r,safari:t},w};var $={hover:":hover",focus:":focus",active:":active",first:":first-child",last:":last-child",blank:":blank",checked:":checked",current:":current",disabled:":disabled","focus-within":":focus-within","focus-visible":":focus-visible","in-range":":in-range",visited:":visited",even:":nth-child(even)",odd:":nth-child(odd)","placeholder-shown":":placeholder-shown",after:"::after",before:"::before",placeholder:"::-webkit-input-placeholder",scrollbar:"::-webkit-scrollbar","scrollbar-thumb":"::-webkit-scrollbar-thumb","scrollbar-track":"::-webkit-scrollbar-track","scrollbar-button":"::-webkit-scrollbar-button","scrollbar-corner":"::-webkit-scrollbar-corner"},N={dark:"@media (prefers-color-scheme: dark)",xs:"@media screen and (min-width: 480px)",sm:"@media screen and (min-width: 640px)",md:"@media screen and (min-width: 768px)",lg:"@media screen and (min-width: 1024px)",xl:"@media screen and (min-width: 1280px)",xxl:"@media screen and (min-width: 1536px)","in-xs":"@media screen (max-width:479px) and (min-width: 0px)","in-sm":"@media screen (max-width:767px) and (min-width: 479px)","in-md":"@media screen (max-width:1023px) and (min-width: 767px)","in-lg":"@media screen (max-width:1279px) and (min-width: 1023px)","in-xl":"@media screen (max-width:1535px) and (min-width: 1279px)","in-xxl":"@media screen (max-width:9999px) and (min-width: 1535px)"},_={};function h(e,c){let o=e+"_$$_"+c,s=_[o];if(s)return s;let t={comp:void 0,compName:"",pesudo:"",pesudoName:"",media:"",mediaName:"",name:"",value:"",query:""};if(!c)return _[o]=t,t;let n=d.compMap[e];return c.split(":").forEach((a,r)=>{if(r===0){if(N[a]){t.media=N[a],t.mediaName=a;return}else if(g()[a]!==void 0){t.media=`@media screen and (min-width: ${g()[a]?"0px":"9999px"})`,t.mediaName=a;return}}r<2&&$[a]?(t.pesudo=$[a],t.pesudoName=a):!t.comp&&!t.name&&n&&n[a]?(t.comp=n[a],t.compName=a):!t.comp&&!t.name?t.name=a:t.value?t.query||(t.query=a):(t.comp&&(a=a.replace(/\((.*?)\)/g,i=>i.replace(/\,/g,"^^^"))),t.value=a)}),_[o]=t,t}var q=({css:e,name:c="",media:o="",mediaName:s="",pesudo:t="",group:n=""})=>{if(!e)return;let u=`^sty_${e}_${c}_${o}_${t}_${n}`;if(d.classNameCache[u])return;d.classNameCache[u]=!0;let a=h(n,e),r=a.value;if(!r)return;a.media&&(o=a.media),a.mediaName&&(s=a.mediaName),a.pesudo&&(t=a.pesudo);let i=r.split("~");i.length>1&&(r=" "+i.map(p=>`"${p}"`).join(" "),r+=";"),r=r.replace(/calc\((.*?)\)/g,p=>(p=p.replace(/(-|\+|\*|\/)/g,F=>" "+F+" "),p)),r=r.replace(/\|/g," "),r=r.replace(/var\((.*?)\)/g,p=>p.replace(/(var\(|\))/g,"")),r=r.replace(/--([a-zA-Z0-9_-]*)/g,p=>`var(${p})`),r=r.replace(/\^\^\^/g,",");let f=(c||e).replace(/(\:|#|\*|!|,|\.|>|<|@|~|%|\||\$|\{|\}|\[|\]|\(|\)|\+|\*|\/)/g,p=>"\\"+p),l=n?`.\\[${n}\\]`:"",m=document.createElement("style"),y=a.name.replace("*","--");if(o?m.textContent=`${o} {.${f}${l}${t} ${a.query}{${y}:${r}}}`:m.textContent=`.${f}${l}${t} ${a.query}{${y}:${r}}`,m.setAttribute("flavor-css",""),document.head.append(m),s){let p=document.createElement("style");p.textContent=`.media-${s} .${f}${l}${t} ${a.query}{${y}:${r}}`,p.setAttribute("flavor-css",""),document.head.append(p)}};var A={},v=e=>{let c=A[e];if(c)return c;let o=[];e=e.replace(/\n/g," ");let s=[],t=e.match(/\[(.*?)\]/g),n={};t&&t.forEach(r=>{if(r){let i=r.replace(/(\[|\])/g,"");s.push(i),n[i]=!0}});let u=/\[(.*?)\]/g,a=e.split(u);return a.forEach((r,i)=>{if(r=r.trim(),!r)return;let f=a[i+1];i===0&&!n[r]&&o.push({cssItem:r,group:""}),n[r]&&f&&!n[f]&&o.push({cssItem:f.trim(),group:r})}),A[e]=o,o};var x=(e,c="",o="",s="",t="",n="")=>{let u=`^parser_${e}_${c}_${o}_${s}_${t}`;return d.classNameCache[u]||(d.classNameCache[u]=!0,v(e).forEach(({cssItem:a,group:r})=>{a.split(" ").filter(Boolean).forEach(i=>{let f=r,l=h(r,i);if(l.comp||(l=h("",i),f=""),l.comp){let m=l.comp(l.value.split(","));x(m,i,l.media,l.mediaName,l.pesudo,f)}else q({css:i,name:c,media:o,mediaName:s,pesudo:t,group:n})})})),e};var M={},C=(e,c,o)=>{let s=`^group_${e}_${c}_${o}`;M[s]||(M[s]=!0,d.compMap[e]||(d.compMap[e]={}),d.compMap[e][c]=t=>{let n=o;t.forEach((i,f)=>{n=n.replace(new RegExp(`(\\$${f+1})`,"g"),i)});let u=t[t.length],a=i=>{n.indexOf("$"+i)>-1&&(n=n.replace(new RegExp(`(\\$${i+1})`,"g"),u),a(i+1))};a(o.length+1);let r="";return v(n).forEach(({cssItem:i,group:f})=>{i.split(" ").forEach(l=>{let m=h(f,l);m.comp||(m=h(e,l),!m.comp&&e!==""&&f!==""&&(m=h("",l))),m.comp?m.comp(m.value.split(",")).split(" ").forEach(p=>{r+=[m.mediaName,m.pesudoName,p,m.query].filter(Boolean).join(":")+" "}):r+=l+" "})}),r})};var L=()=>{document.head.querySelectorAll("style[flavor-css]").forEach(e=>{e.remove()}),d.compMap={},d.classNameCache={},document.querySelectorAll("[flavor]").forEach(E),document.body.querySelectorAll("[class]").forEach(b)};function E(e){let c=e.getAttribute("flavor");if(c==null)return;let o="";if(e.tagName==="TEMPLATE"){let s=e.content.cloneNode(!0);s&&(o=s.textContent)}else o=e.textContent;o&&(o=o.replace(`
`,""),o.trim().split(";").forEach(s=>{let[t,...n]=s.split(":");t=t.trim(),t&&C(c,t,n.join(":").trim())}))}function b(e){!e||e.className&&typeof e.className=="string"&&x(e.className)}var T=()=>{let e=o=>{for(let s of o)if(s.type==="childList")E(s.target),b(s.target),s.target.querySelectorAll("[flavor]").forEach(E),s.target.querySelectorAll("[class]").forEach(b);else if(s.type==="attributes"){let t=s.target;b(t)}};new MutationObserver(e).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})},S=!1,k=()=>{if(!(typeof window=="undefined"||typeof document=="undefined"||!window.location)&&!S){if(!window.MutationObserver){console.error("[flavorcss] Your Browser not supported MutationObserver");return}if(!document.body){requestAnimationFrame(k);return}document.querySelectorAll("[flavor]").forEach(E),document.body.querySelectorAll("[class]").forEach(b),T(),S=!0}};k();var G={device:g,parser:x,observeClass:k,classGroup:C,mediaList:N,pesudoList:$,cache:d,reset:L};window.flavorcss=G;export{G as flavorcss};
