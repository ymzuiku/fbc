!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).flavorcss={})}(this,function(e){"use strict";function l(){if(u)return u;var e=navigator.userAgent.toLocaleLowerCase(),r=/(?:android)/.test(e),t=/(?:firefox)/.test(e),o=/(?:chrome|crios)/.test(e),a=/(safari)/.test(e),i=/(?:ipad|playbook)/.test(e)||r&&!/(?:mobile)/.test(e)||t&&/(?:tablet)/.test(e),n=/(?:iphone)/.test(e)&&!i,l=!n&&!r,c=!l,s=c&&/(micromessenger|wechat)/.test(e);return u={android:r,firefox:t,chrome:o,tablet:i,ios:n,wechat:s,pc:l,phone:c,safari:a}}var u,c={},b={},s={hover:":hover",focus:":focus",active:":active","first-child":":first-child","last-child":":last-child",blank:":blank",checked:":checked",current:":current",disabled:":disabled","focus-within":":focus-within","in-range":":in-range",visited:":visited",even:":nth-child(even)",odd:":nth-child(odd)","placeholder-shown":":placeholder-shown",after:"::after",before:"::before",placeholder:"::-webkit-input-placeholder"},d={xs:"480px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px",xxl:"1536px"},f={};function _(e,r){var t=e+"_&&_"+r,o=f[t];if(o)return o;var a={comp:void 0,pesudo:"",media:"",name:"",realName:"",value:"",query:""};if(!r)return f[t]=a;var i=r.split(":"),n=c[e];return i.forEach(function(e,r){s[e]?a.pesudo=s[e]:n&&n[e]?a.comp=n[e]:d[e]?a.media="@media screen and (min-width: "+d[e]+")":void 0!==l()[e]?a.media="@media screen and (min-width: "+(l()[e]?"0px":"9999px")+")":a.comp||a.name?a.value?a.query||(a.query=e):(a.comp&&(e=e.replaceAll(/\((.*?)\)/g,function(e){return e.replace(/\,/g,"^^^")})),a.value=e):a.name=e}),f[t]=a}var p=function(e,c,s,u,d,f){void 0===c&&(c=""),void 0===s&&(s=""),void 0===u&&(u=""),void 0===d&&(d=""),void 0===f&&(f="");var r="^parser_"+e+"_"+s+"_"+u+"_"+d+"_"+c;return b[r]||(b[r]=!0,e.split(" ").filter(Boolean).forEach(function(e){var r=_(c,e),t=r.comp,o=r.value,a=r.media,i=r.pesudo,n=r.query;if(t){var l=t(o.split(","));p(l,c,e,a,i,n)}else!function(e){var r=e.css,t=e.name,o=void 0===t?"":t,a=e.media,i=void 0===a?"":a,n=e.pesudo,l=void 0===n?"":n,c=e.query,s=void 0===c?"":c,u=e.group,d=void 0===u?"":u;if(r){var f="^sty_"+r+"_"+o+"_"+i+"_"+l+"_"+d;if(!b[f]){b[f]=!0;var p=_(d,r);p.media&&(i=p.media),p.pesudo&&(l=p.pesudo),p.query&&(s=p.query);var v=p.value;if(v){var m=v.split("~");1<m.length&&(v=" "+m.map(function(e){return'"'+e+'"'}).join(" "),v+=";"),v=(v=(v=(v=(v=v.replaceAll(/calc\((.*?)\)/g,function(e){return e=e.replaceAll(/(-|\+|\*|\/)/g,function(e){return" "+e+" "})})).replace(/\|/g," ")).replaceAll(/var\((.*?)\)/g,function(e){return e.replace(/(var\(|\))/g,"")})).replaceAll(/--([a-zA-Z0-9_-]*)/g,function(e){return"var("+e+")"})).replace(/\^\^\^/g,",")}var h=(o||r).replaceAll(/(\:|#|!|,|\.|>|<|@|~|%|\||\$|\{|\}|\[|\]|\(|\)|\+|\*|\/)/g,function(e){return"\\"+e}),g=document.createElement("style"),y=d?'[flavor-sub="'+d+'"]':"";g.textContent=i?i+" {."+h+y+l+" "+s+"{"+p.name+":"+v+"}}":"."+h+y+l+" "+s+"{"+p.name+":"+v+"}",document.head.append(g)}}}({css:e,name:s,media:u,pesudo:d,query:f,group:c})})),e},i=function(i,e,r){c[i]||(c[i]={}),c[i][e]=function(e){var t=r;e.forEach(function(e,r){t=t.replace("$"+(r+1),e)});var a="";return t.split(" ").forEach(function(e){var r=_(i,e),t=r.comp,o=r.value;a+=(t?t(o.split(",")):e)+" "}),a}};function a(e){var a=e.getAttribute("flavor-apply");a&&e.innerHTML&&("TEMPLATE"!==e.tagName&&(e.style.display="none"),e.innerHTML.split("\n").forEach(function(e){var r=e.split(":"),t=r[0],o=r.slice(1);(t=t.trim())&&i(a,t,o.join(":").trim())}))}function n(e){if(e)if(void 0===e.__flavor_group){var r=e.closest("[flavor]");if(r){var t=r.getAttribute("flavor")||"";e.__flavor_group=t,e.setAttribute("flavor-sub",t),p(e.className,t)}else p(e.className,"")}else p(e.className,e.__flavor_group)}var r=!1,t=function(){"undefined"!=typeof window&&"undefined"!=typeof document&&window.location&&(r||(window.MutationObserver?document.body?(document.body.querySelectorAll("[flavor-apply]").forEach(a),document.body.querySelectorAll("[class]").forEach(n),new MutationObserver(function(e){for(var r=0,t=e;r<t.length;r++){var o=t[r];"childList"===o.type?(a(o.target),n(o.target),o.target.querySelectorAll("[flavor-apply]").forEach(a),o.target.querySelectorAll("[class]").forEach(n)):"attributes"===o.type&&n(o.target)}}).observe(document.body,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["class"]}),r=!0):window.addEventListener("load",function(){t()}):console.error("[flavorcss] Your Browser not supported MutationObserver")))};t(),e.classGroup=i,e.device=l,e.groupList={},e.mediaList=d,e.observeClass=t,e.parser=p,e.pesudoList=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
