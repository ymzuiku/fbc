!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).flavorcss={})}(this,function(e){"use strict";function i(){if(s)return s;var e=navigator.userAgent.toLocaleLowerCase(),r=/(?:android)/.test(e),t=/(?:firefox)/.test(e),o=/(?:chrome|crios)/.test(e),n=/(safari)/.test(e),a=/(?:ipad|playbook)/.test(e)||r&&!/(?:mobile)/.test(e)||t&&/(?:tablet)/.test(e),i=/(?:iphone)/.test(e)&&!a,c=!i&&!r,u=!c,l=u&&/(micromessenger|wechat)/.test(e);return s={android:r,firefox:t,chrome:o,tablet:a,ios:i,wechat:l,pc:c,phone:u,safari:n}}var s,c={},y={},u={hover:":hover",focus:":focus",active:":active","first-child":":first-child","last-child":":last-child",blank:":blank",checked:":checked",current:":current",disabled:":disabled","focus-within":":focus-within","in-range":":in-range",visited:":visited",even:":nth-child(even)",odd:":nth-child(odd)","placeholder-shown":":placeholder-shown",after:"::after",before:"::before",placeholder:"::-webkit-input-placeholder"},l={xs:"480px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px",xxl:"1536px"},d={};function x(e,r){var t=e+"_$$_"+r,o=d[t];if(o)return o;var n={comp:void 0,pesudo:"",media:"",name:"",realName:"",value:"",query:""};if(!r)return d[t]=n;var a=c[e];return r.split(":").forEach(function(e,r){u[e]?n.pesudo=u[e]:a&&a[e]?n.comp=a[e]:l[e]?n.media="@media screen and (min-width: "+l[e]+")":void 0!==i()[e]?n.media="@media screen and (min-width: "+(i()[e]?"0px":"9999px")+")":n.comp||n.name?n.value?n.query||(n.query=e):(n.comp&&(e=e.replaceAll(/\((.*?)\)/g,function(e){return e.replace(/\,/g,"^^^")})),n.value=e):n.name=e}),d[t]=n}var v=function(e,l,s,d,f){void 0===l&&(l=""),void 0===s&&(s=""),void 0===d&&(d=""),void 0===f&&(f="");var r="^parser_"+e+"_"+l+"_"+s+"_"+d;if(y[r])return e;y[r]=!0;var t=e.match(/\[(.*?)\]/g),p=[];t&&t.forEach(function(e){e&&p.push(e.replace(/(\[|\])/g,""))});var o=e.split(/\[(.*?)\]/g),n=[];return o.forEach(function(e){(e=e.trim())&&p.indexOf(e)<0&&n.push(e)}),n.forEach(function(e,u){(e=e.trim()).split(" ").filter(Boolean).forEach(function(e){var r=x(p[u],e),t=r.comp,o=r.value,n=r.media,a=r.pesudo,i=r.query;if(t){var c=t(o.split(","));v(c,e,n,a,i)}else!function(e){var r=e.css,t=e.name,o=void 0===t?"":t,n=e.media,a=void 0===n?"":n,i=e.pesudo,c=void 0===i?"":i,u=e.query,l=void 0===u?"":u,s=e.group,d=void 0===s?"":s;if(r){var f="^sty_"+r+"_"+o+"_"+a+"_"+c+"_"+d;if(!y[f]){y[f]=!0;var p=x(d,r);p.media&&(a=p.media),p.pesudo&&(c=p.pesudo),p.query&&(l=p.query);var v=p.value;if(v){var m=v.split("~");1<m.length&&(v=" "+m.map(function(e){return'"'+e+'"'}).join(" "),v+=";"),v=(v=(v=(v=(v=v.replaceAll(/calc\((.*?)\)/g,function(e){return e=e.replaceAll(/(-|\+|\*|\/)/g,function(e){return" "+e+" "})})).replace(/\|/g," ")).replaceAll(/var\((.*?)\)/g,function(e){return e.replace(/(var\(|\))/g,"")})).replaceAll(/--([a-zA-Z0-9_-]*)/g,function(e){return"var("+e+")"})).replace(/\^\^\^/g,",")}var h=(o||r).replaceAll(/(\:|#|!|,|\.|>|<|@|~|%|\||\$|\{|\}|\[|\]|\(|\)|\+|\*|\/)/g,function(e){return"\\"+e}),g=document.createElement("style"),b=d?".\\["+d+"\\]":"";v&&(g.textContent=a?a+" {."+h+b+c+" "+l+"{"+p.name+":"+v+"}}":"."+h+b+c+" "+l+"{"+p.name+":"+v+"}"),document.head.append(g)}}}({css:e,name:l,media:s,pesudo:d,query:f,group:p[u]})})}),e},a=function(a,e,r){c[a]||(c[a]={}),c[a][e]=function(e){var t=r;e.forEach(function(e,r){t=t.replace("$"+(r+1),e)});var n="";return t.split(" ").forEach(function(e){var r=x(a,e),t=r.comp,o=r.value;n+=(t?t(o.split(",")):e)+" "}),n}};function n(e){var n=e.getAttribute("flavor-group")||"";e.innerHTML&&e.innerHTML.split("\n").forEach(function(e){var r=e.split(":"),t=r[0],o=r.slice(1);(t=t.trim())&&a(n,t,o.join(":").trim())})}function f(e){e&&v(e.className)}var r=!1,t=function(){"undefined"!=typeof window&&"undefined"!=typeof document&&window.location&&(r||(window.MutationObserver?document.body?(document.querySelectorAll("[flavor-group]").forEach(n),document.body.querySelectorAll("[class]").forEach(f),new MutationObserver(function(e){for(var r=0,t=e;r<t.length;r++){var o=t[r];"childList"===o.type?(n(o.target),f(o.target),o.target.querySelectorAll("[flavor-group]").forEach(n),o.target.querySelectorAll("[class]").forEach(f)):"attributes"===o.type&&f(o.target)}}).observe(document.body,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["class"]}),r=!0):requestAnimationFrame(t):console.error("[flavorcss] Your Browser not supported MutationObserver")))};t(),e.classGroup=a,e.device=i,e.groupList={},e.mediaList=l,e.observeClass=t,e.parser=v,e.pesudoList=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
