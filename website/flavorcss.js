!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).flavorcss={})}(this,function(e){"use strict";function i(){if(s)return s;var e=navigator.userAgent.toLocaleLowerCase(),t=/(?:android)/.test(e),r=/(?:firefox)/.test(e),o=/(?:chrome|crios)/.test(e),n=/(safari)/.test(e),a=/(?:ipad|playbook)/.test(e)||t&&!/(?:mobile)/.test(e)||r&&/(?:tablet)/.test(e),i=/(?:iphone)/.test(e)&&!a,c=!i&&!t,l=!c,u=l&&/(micromessenger|wechat)/.test(e);return s={android:t,firefox:r,chrome:o,tablet:a,ios:i,wechat:u,pc:c,phone:l,safari:n}}var s,c={},g={},l={hover:":hover",focus:":focus",active:":active","first-child":":first-child","last-child":":last-child",blank:":blank",checked:":checked",current:":current",disabled:":disabled","focus-within":":focus-within","in-range":":in-range",visited:":visited",even:":nth-child(even)",odd:":nth-child(odd)","placeholder-shown":":placeholder-shown",after:"::after",before:"::before",placeholder:"::-webkit-input-placeholder"},u={xs:"480px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px",xxl:"1536px"},d={};function b(e,t){var r=e+"_$$_"+t,o=d[r];if(o)return o;var n={comp:void 0,pesudo:"",media:"",name:"",realName:"",value:"",query:""};if(!t)return d[r]=n;var a=c[e];return t.split(":").forEach(function(e,t){l[e]?n.pesudo=l[e]:a&&a[e]?n.comp=a[e]:u[e]?n.media="@media screen and (min-width: "+u[e]+")":void 0!==i()[e]?n.media="@media screen and (min-width: "+(i()[e]?"0px":"9999px")+")":n.comp||n.name?n.value?n.query||(n.query=e):(n.comp&&(e=e.replaceAll(/\((.*?)\)/g,function(e){return e.replace(/\,/g,"^^^")})),n.value=e):n.name=e}),d[r]=n}var p=function(e,l,u,s,d){void 0===l&&(l=""),void 0===u&&(u=""),void 0===s&&(s=""),void 0===d&&(d="");var t="^parser_"+e+"_"+l+"_"+u+"_"+s;if(g[t])return e;g[t]=!0;var r=e.match(/\[(.*?)\]/g),f=[];r&&r.forEach(function(e){e&&f.push(e.replace(/(\[|\])/g,""))});var o=e.split(/\[(.*?)\]/g),n=[];return o.forEach(function(e){(e=e.trim())&&f.indexOf(e)<0&&n.push(e)}),n.forEach(function(e,c){(e=e.trim()).split(" ").filter(Boolean).forEach(function(e){var t=b(f[c],e),r=t.comp,o=t.value,n=t.media,a=t.pesudo;if(r){var i=r(o.split(","));p(i,e,n,a,f[c])}else!function(e){var t=e.css,r=e.name,o=void 0===r?"":r,n=e.media,a=void 0===n?"":n,i=e.pesudo,c=void 0===i?"":i,l=e.group,u=void 0===l?"":l;if(t){var s="^sty_"+t+"_"+o+"_"+a+"_"+c+"_"+u;if(!g[s]){g[s]=!0;var d=b(u,t);d.media&&(a=d.media),d.pesudo&&(c=d.pesudo);var f=d.value;if(f){var p=f.split("~");1<p.length&&(f=" "+p.map(function(e){return'"'+e+'"'}).join(" "),f+=";"),f=(f=(f=(f=(f=f.replaceAll(/calc\((.*?)\)/g,function(e){return e=e.replaceAll(/(-|\+|\*|\/)/g,function(e){return" "+e+" "})})).replace(/\|/g," ")).replaceAll(/var\((.*?)\)/g,function(e){return e.replace(/(var\(|\))/g,"")})).replaceAll(/--([a-zA-Z0-9_-]*)/g,function(e){return"var("+e+")"})).replace(/\^\^\^/g,",")}var v=(o||t).replaceAll(/(\:|#|!|,|\.|>|<|@|~|%|\||\$|\{|\}|\[|\]|\(|\)|\+|\*|\/)/g,function(e){return"\\"+e}),m=document.createElement("style"),h=u?".\\["+u+"\\]":"";f&&(m.textContent=a?a+" {."+v+h+c+" "+d.query+"{"+d.name+":"+f+"}}":"."+v+h+c+" "+d.query+"{"+d.name+":"+f+"}",document.head.append(m))}}}({css:e,name:l,media:u,pesudo:s,group:d})})}),e},a=function(a,e,t){c[a]||(c[a]={}),c[a][e]=function(e){var r=t;e.forEach(function(e,t){r=r.replace("$"+(t+1),e)});var n="";return r.split(" ").forEach(function(e){var t=b(a,e),r=t.comp,o=t.value;n+=(r?r(o.split(",")):e)+" "}),n}};function n(e){var n=e.getAttribute("flavor-group")||"",t="";if("TEMPLATE"===e.tagName){var r=e.content.cloneNode(!0);r&&(t=r.textContent)}else t=e.textContent;t&&t.trim().split("\n").forEach(function(e){var t=e.split(":"),r=t[0],o=t.slice(1);(r=r.trim())&&a(n,r,o.join(":").trim())})}function f(e){e&&p(e.className)}var t=!1,r=function(){"undefined"!=typeof window&&"undefined"!=typeof document&&window.location&&(t||(window.MutationObserver?document.body?(document.querySelectorAll("[flavor-group]").forEach(n),document.body.querySelectorAll("[class]").forEach(f),new MutationObserver(function(e){for(var t=0,r=e;t<r.length;t++){var o=r[t];"childList"===o.type?(n(o.target),f(o.target),o.target.querySelectorAll("[flavor-group]").forEach(n),o.target.querySelectorAll("[class]").forEach(f)):"attributes"===o.type&&f(o.target)}}).observe(document.body,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["class"]}),t=!0):requestAnimationFrame(r):console.error("[flavorcss] Your Browser not supported MutationObserver")))};r(),e.classGroup=a,e.device=i,e.groupList={},e.mediaList=u,e.observeClass=r,e.parser=p,e.pesudoList=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
