!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a((e=e||self).flavorcss={})}(this,function(e){"use strict";function o(){if(m)return m;var e=navigator.userAgent.toLocaleLowerCase(),a=/(?:android)/.test(e),t=/(?:firefox)/.test(e),r=/(?:chrome|crios)/.test(e),i=/(safari)/.test(e),n=/(?:ipad|playbook)/.test(e)||a&&!/(?:mobile)/.test(e)||t&&/(?:tablet)/.test(e),o=/(?:iphone)/.test(e)&&!n,c=!o&&!a,d=!c,s=d&&/(micromessenger|wechat)/.test(e);return m={android:a,firefox:t,chrome:r,tablet:n,ios:o,wechat:s,pc:c,phone:d,safari:i}}var m,c={},b={},d={hover:":hover",focus:":focus",active:":active",first:":first-child",last:":last-child",blank:":blank",checked:":checked",current:":current",disabled:":disabled","focus-within":":focus-within","focus-visible":":focus-visible","in-range":":in-range",visited:":visited",even:":nth-child(even)",odd:":nth-child(odd)","placeholder-shown":":placeholder-shown",after:"::after",before:"::before",placeholder:"::-webkit-input-placeholder"},s={dark:"@media (prefers-color-scheme: dark)",xxs:"@media screen and (min-width: 375px)",xs:"@media screen and (min-width: 480px)",sm:"@media screen and (min-width: 640px)",md:"@media screen and (min-width: 768px)",lg:"@media screen and (min-width: 1024px)",xl:"@media screen and (min-width: 1280px)",xxl:"@media screen and (min-width: 1536px)","xxs-max":"@media screen and (max-width: 375px)","xs-max":"@media screen and (max-width: 480px)","sm-max":"@media screen and (max-width: 640px)","md-max":"@media screen and (max-width: 768px)","lg-max":"@media screen and (max-width: 1024px)","xl-max":"@media screen and (max-width: 1280px)","xxl-max":"@media screen and (max-width: 1536px)"},u={};function y(e,a){var t=e+"_$$_"+a,r=u[t];if(r)return r;var i={comp:void 0,compName:"",pesudo:"",pesudoName:"",media:"",mediaName:"",name:"",value:"",query:""};if(!a)return u[t]=i;var n=c[e];return a.split(":").forEach(function(e,a){if(0===a){if(s[e])return i.media=s[e],void(i.mediaName=e);if(void 0!==o()[e])return i.media="@media screen and (min-width: "+(o()[e]?"0px":"9999px")+")",void(i.mediaName=e)}a<2&&d[e]?(i.pesudo=d[e],i.pesudoName=e):!i.name&&n&&n[e]?(i.comp=n[e],i.compName=e):i.comp||i.name?i.value?i.query||(i.query=e):(i.comp&&(e=e.replaceAll(/\((.*?)\)/g,function(e){return e.replace(/\,/g,"^^^")})),i.value=e):i.name=e}),u[t]=i}function f(e){var r=[],a=e.match(/\[(.*?)\]/g),i={};a&&a.forEach(function(e){if(e){var a=e.replace(/(\[|\])/g,"");i[a]=!0}});var n=e.split(/\[(.*?)\]/g);return n.forEach(function(e,a){if(e=e.trim()){var t=n[a+1];0!==a||i[e]||r.push({cssItem:e,group:""}),i[e]&&t&&!i[t]&&r.push({cssItem:t.trim(),group:e})}}),r}var v=function(e,s,m,u,l,p){void 0===s&&(s=""),void 0===m&&(m=""),void 0===u&&(u=""),void 0===l&&(l=""),void 0===p&&(p="");var a="^parser_"+e+"_"+s+"_"+m+"_"+u+"_"+l;return b[a]||(b[a]=!0,f(e).forEach(function(e){var a=e.cssItem,d=e.group;a.split(" ").filter(Boolean).forEach(function(e){var a=y(d,e),t=a.comp,r=a.value,i=a.media,n=a.mediaName,o=a.pesudo;if(t){var c=t(r.split(","));v(c,e,i,n,o,d)}else!function(e){var a=e.css,t=e.name,r=void 0===t?"":t,i=e.media,n=void 0===i?"":i,o=e.mediaName,c=void 0===o?"":o,d=e.pesudo,s=void 0===d?"":d,m=e.group,u=void 0===m?"":m;if(a){var l="^sty_"+a+"_"+r+"_"+n+"_"+s+"_"+u;if(!b[l]){b[l]=!0;var p=y(u,a),f=p.value;if(f){p.media&&(n=p.media),p.mediaName&&(c=p.mediaName),p.pesudo&&(s=p.pesudo);var v=f.split("~");1<v.length&&(f=" "+v.map(function(e){return'"'+e+'"'}).join(" "),f+=";"),f=(f=(f=(f=(f=f.replaceAll(/calc\((.*?)\)/g,function(e){return e=e.replaceAll(/(-|\+|\*|\/)/g,function(e){return" "+e+" "})})).replace(/\|/g," ")).replaceAll(/var\((.*?)\)/g,function(e){return e.replace(/(var\(|\))/g,"")})).replaceAll(/--([a-zA-Z0-9_-]*)/g,function(e){return"var("+e+")"})).replace(/\^\^\^/g,",");var h=(r||a).replaceAll(/(\:|#|!|,|\.|>|<|@|~|%|\||\$|\{|\}|\[|\]|\(|\)|\+|\*|\/)/g,function(e){return"\\"+e}),x=u?".\\["+u+"\\]":"",g=document.createElement("style");if(g.textContent=n?n+" {."+h+x+s+" "+p.query+"{"+p.name+":"+f+"}}":"."+h+x+s+" "+p.query+"{"+p.name+":"+f+"}",document.head.append(g),c){var w=document.createElement("style");w.textContent=".media-"+c+" ."+h+x+s+" "+p.query+"{"+p.name+":"+f+"}",document.head.append(w)}}}}}({css:e,name:s,media:m,mediaName:u,pesudo:l,group:p})})})),e},a={},t={},n=function(n,e,o){var a="^group_"+n+"_"+e+"_"+o;t[a]||(t[a]=!0,c[n]||(c[n]={}),c[n][e]=function(e){var t=o;e.forEach(function(e,a){t=t.replace(new RegExp("(\\$"+(a+1)+")","g"),e)});var a=e[e.length],r=function(e){-1<t.indexOf("$"+e)&&(t=t.replace(new RegExp("(\\$"+(e+1)+")","g"),a),r(e+1))};r(o.length+1);var i="";return f(t).forEach(function(e){var a=e.cssItem,t=e.group;a.split(" ").forEach(function(e){var a=y("",e);(a.comp||""===t||(a=y(t,e)).comp||t===n||(a=y(n,e)),a.comp)?a.comp(a.value.split(",")).split(" ").forEach(function(e){i+=[a.mediaName,a.pesudoName,e,a.query].filter(Boolean).join(":")+" "}):i+=e+" "})}),i})};function i(e){var i=e.getAttribute("flavor")||"",a="";if("TEMPLATE"===e.tagName){var t=e.content.cloneNode(!0);t&&(a=t.textContent)}else a=e.textContent;a&&(a=a.replace("\n","")).trim().split(";").forEach(function(e){var a=e.split(":"),t=a[0],r=a.slice(1);(t=t.trim())&&n(i,t,r.join(":").trim())})}function l(e){e&&"string"==typeof e.className&&v(e.className)}var r=!1,p=function(){"undefined"!=typeof window&&"undefined"!=typeof document&&window.location&&(r||(window.MutationObserver?document.body?(document.querySelectorAll("[flavor]").forEach(i),document.body.querySelectorAll("[class]").forEach(l),new MutationObserver(function(e){for(var a=0,t=e;a<t.length;a++){var r=t[a];"childList"===r.type?(i(r.target),l(r.target),r.target.querySelectorAll("[flavor]").forEach(i),r.target.querySelectorAll("[class]").forEach(l)):"attributes"===r.type&&l(r.target)}}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),r=!0):requestAnimationFrame(p):console.error("[flavorcss] Your Browser not supported MutationObserver")))};p(),window.flavorcss={device:o,parser:v,observeClass:p,classGroup:n,groupList:a,mediaList:s,pesudoList:d},e.classGroup=n,e.device=o,e.groupList=a,e.mediaList=s,e.observeClass=p,e.parser=v,e.pesudoList=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
